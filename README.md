# MCP Agent —Å OpenRouter –∏ Bright Data

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥–µ–ª–∏ OpenRouter –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ Bright Data —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª MCP (Model Context Protocol).

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–í–µ–±-–ø–æ–∏—Å–∫** - –ø–æ–∏—Å–∫ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
- **–ü–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç–æ–≤** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü
- **–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **–£–º–Ω—ã–π –≤—ã–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** - –º–æ–¥–µ–ª—å —Å–∞–º–∞ —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

```bash
pip install openai python-dotenv mcp
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
OPENROUTER_API_KEY=sk-or-v1-–≤–∞—à-–∫–ª—é—á-–∑–¥–µ—Å—å
BRIGHTDATA_TOKEN=–≤–∞—à-—Ç–æ–∫–µ–Ω-bright-data
```

2. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á–∏:
   - **OpenRouter**: https://openrouter.ai/ ‚Üí Keys
   - **Bright Data**: https://brightdata.com/ ‚Üí MCP Token

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–∏—Å–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
```bash
python main.py "–∫–∞–∫–∏–µ –µ—Å—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –≤ –∏–≥—Ä–æ–≤–æ–π –∏–Ω–¥—É—Å—Ç—Ä–∏–∏?"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–í–æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –≤ –∏–≥—Ä–æ–≤–æ–π –∏–Ω–¥—É—Å—Ç—Ä–∏–∏:
‚Ä¢ –£—Ç–µ—á–∫–∞ —Å –ø–ª–µ–π—Ç–µ—Å—Ç–∞ Marathon: –ù–æ–≤—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂, –∫–∞—Ä—Ç—ã –∏ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚Ä¢ –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ Ready or Not —Ä–∞–∑–æ—à–ª–∏—Å—å —Ç–∏—Ä–∞–∂–æ–º –≤ 3 –º–ª–Ω –∫–æ–ø–∏–π
‚Ä¢ –¶–∏—Ñ—Ä–æ–≤—ã–µ –ø—Ä–æ–¥–∞–∂–∏ Cronos: The New Dawn –∑–∞ –≤—ã—Ö–æ–¥–Ω—ã–µ –ø—Ä–µ–≤—ã—Å–∏–ª–∏ 200 000 –∫–æ–ø–∏–π
```

### –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö
```bash
python main.py "–≤—ã—à–µ–ª –ª–∏ gpt-5 –Ω–∞ –º–æ–º–µ–Ω—Ç 2025 –≥–æ–¥–∞?"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–°–æ–≥–ª–∞—Å–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –ø–æ–∏—Å–∫–∞, GPT-5 –±—ã–ª –≤—ã–ø—É—â–µ–Ω 7 –∞–≤–≥—É—Å—Ç–∞ 2025 –≥–æ–¥–∞
```

### –ü–æ–∏—Å–∫ —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
```bash
python main.py "–∫–∞–∫–∏–µ –∏–≥—Ä—ã –≤—ã—à–ª–∏ –∏ –≤—ã–π–¥—É—Ç –≤ —ç—Ç–æ–º –≥–æ–¥—É?"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–í–æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –∏–≥—Ä, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã—à–ª–∏ –∏–ª–∏ –æ–∂–∏–¥–∞—é—Ç—Å—è –≤ 2024 –≥–æ–¥—É:
‚Ä¢ Prince of Persia: The Lost Crown
‚Ä¢ Like a Dragon: Infinite Wealth
‚Ä¢ Tekken 8
‚Ä¢ Helldivers 2
‚Ä¢ Final Fantasy VII Rebirth
‚Ä¢ S.T.A.L.K.E.R. 2: Heart of Chornobyl
```

### –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
```bash
python main.py "–ù–∞–π–¥–∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Q2 2025 –ø—Ä–µ—Å—Å-—Ä–µ–ª–∏–∑ Tesla –∏ –¥–∞–π 2‚Äì3 –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–∫—Ç–∞ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏"
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`:

```env
# –ú–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: google/gemini-2.0-flash-001)
OPENROUTER_MODEL=google/gemini-2.0-flash-001

# –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –º–æ–¥–µ–ª–∏ (0.0-1.0, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0.2)
AGENT_TEMPERATURE=0.2

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 4)
AGENT_MAX_STEPS=4

# –¢–∞–π–º–∞—É—Ç –¥–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 180)
TOOL_TIMEOUT=180
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **Settings** - –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env
2. **mcp_list_tools()** - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –æ—Ç MCP
3. **mcp_call()** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
4. **MCPAgent** - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –∞–≥–µ–Ω—Ç–∞
5. **normalize_args()** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí OpenRouter API ‚Üí –ú–æ–¥–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ‚Üí 
MCP (Bright Data) ‚Üí –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

## ü§ñ –ö–∞–∫ –º–æ–¥–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

–ú–æ–¥–µ–ª—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ:

1. **–ê–Ω–∞–ª–∏–∑–∞ –∑–∞–ø—Ä–æ—Å–∞** - –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç
2. **–û–ø–∏—Å–∞–Ω–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** - –∫–∞–∂–¥—ã–π MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–º–µ–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ
3. **–°—Ö–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** - –º–æ–¥–µ–ª—å –∑–Ω–∞–µ—Ç, –∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω—É–∂–Ω—ã
4. **–ò—Å—Ç–æ—Ä–∏–∏ –±–µ—Å–µ–¥—ã** - —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ *"–Ω–∞–π–¥–∏ –Ω–æ–≤–æ—Å—Ç–∏"* –º–æ–¥–µ–ª—å –≤—ã–±–µ—Ä–µ—Ç `search_engine`, –∞ –¥–ª—è *"–∏–∑–≤–ª–µ–∫–∏ –¥–∞–Ω–Ω—ã–µ —Å —Å–∞–π—Ç–∞"* - `scraper`.

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ API –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `.env` (–¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤
- ‚úÖ –ö–æ—Ä–æ—Ç–∫–∏–µ MCP —Å–µ—Å—Å–∏–∏ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

## üêõ –û—Ç–ª–∞–¥–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **API –∫–ª—é—á–∏** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å
2. **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç** - –¥–æ—Å—Ç—É–ø –∫ OpenRouter –∏ Bright Data
3. **–õ–∏–º–∏—Ç—ã** - –∫–≤–æ—Ç—ã –Ω–∞ API –≤—ã–∑–æ–≤—ã
4. **–õ–æ–≥–∏** - –æ—à–∏–±–∫–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ü–µ–ª–µ–π.

---

**üí° –°–æ–≤–µ—Ç**: –ù–∞—á–Ω–∏—Ç–µ —Å –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º –∑–∞–¥–∞—á–∞–º.
